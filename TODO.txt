TODO:
1. the js file is terrible and embarassing as it's mostly just been
   thrown together over the years. Clean it up!
2. implement stronger asset number checking to make sure we arent trying
   to surplus invalid assets. 
3. Add building change support
